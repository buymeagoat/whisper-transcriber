============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0
rootdir: /app
plugins: asyncio-1.0.0, anyio-4.9.0, postgresql-7.0.2
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

api/routes/tests/test_progress.py .                                      [100%]

=============================== warnings summary ===============================
../usr/local/lib/python3.11/site-packages/pydantic/fields.py:1093: 36 warnings
  /usr/local/lib/python3.11/site-packages/pydantic/fields.py:1093: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warn(

../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:323
  /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

../usr/local/lib/python3.11/site-packages/passlib/utils/__init__.py:854
  /usr/local/lib/python3.11/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 1 passed, 38 warnings in 3.58s ========================
Name                                Stmts   Miss  Cover
-------------------------------------------------------
api/__init__.py                         0      0   100%
api/app_state.py                      218    181    17%
api/config_validator.py                21      7    67%
api/errors.py                          22      4    82%
api/exceptions.py                       2      0   100%
api/exporters/__init__.py              21     17    19%
api/main.py                            87     43    51%
api/metadata_writer.py                 36     25    31%
api/middlewares/access_log.py          13      8    38%
api/models.py                          70      2    97%
api/orm_bootstrap.py                   63     47    25%
api/paths.py                           22      5    77%
api/router_setup.py                    37      5    86%
api/routes/__init__.py                  0      0   100%
api/routes/admin.py                   147     98    33%
api/routes/audio.py                    64     50    22%
api/routes/auth.py                     63     42    33%
api/routes/jobs.py                    135     98    27%
api/routes/logs.py                     78     55    29%
api/routes/metrics.py                   9      2    78%
api/routes/progress.py                 51     13    75%
api/routes/tests/test_progress.py      15      0   100%
api/routes/tts.py                      31     19    39%
api/routes/user_settings.py            17      7    59%
api/routes/users.py                    15      6    60%
api/schemas.py                         74      0   100%
api/services/__init__.py                0      0   100%
api/services/analysis.py               75     54    28%
api/services/celery_app.py             12      3    75%
api/services/config.py                 36     25    31%
api/services/job_queue.py              77     48    38%
api/services/jobs.py                   75     61    19%
api/services/storage.py               149     83    44%
api/services/user_settings.py          22     15    32%
api/services/users.py                  57     42    26%
api/settings.py                        57      7    88%
api/utils/db_lock.py                    2      0   100%
api/utils/logger.py                    55     16    71%
api/utils/model_validation.py          12      8    33%
-------------------------------------------------------
TOTAL                                1940   1096    44%
/health FAILED
