# Log Reference

This page lists the log files generated or used by Whisper Transcriber. Log paths are relative to the project root unless otherwise noted.

## Build and Setup Logs

### `logs/whisper_build.log`
- **Generated By:** `scripts/whisper_build.sh`
- **Purpose:** Unified build output.
- **Location:** `logs/whisper_build.log`
- **Rotation/Retention:** Manual; overwritten on each run.
- **Example:**
  ```
  ===== STAGING =====
  Building the production image...
  ```

### `logs/prestage_dependencies.log`
- **Generated By:** `scripts/prestage_dependencies.sh` *(wrapper for `whisper_build.sh`)*
- **Purpose:** Redirects to `whisper_build.sh`.
- **Location:** `logs/prestage_dependencies.log`
- **Rotation/Retention:** Manual; overwritten on each run.
- **Example:**
  ```
  ===== PYTHON =====
  Writing requirements.lock
  ```

### `logs/start_containers.log`
- **Generated By:** `scripts/start_containers.sh` *(wrapper for `whisper_build.sh`)*
- **Purpose:** Redirects to `whisper_build.sh`.
- **Location:** `logs/start_containers.log`
- **Rotation/Retention:** Manual; overwritten on each run.
- **Example:**
  ```
  ===== STARTUP =====
  API service became healthy
  ```

### `logs/update_images.log`
- **Generated By:** `scripts/update_images.sh` *(wrapper for `whisper_build.sh`)*
- **Purpose:** Redirects to `whisper_build.sh`.
- **Location:** `logs/update_images.log`
- **Rotation/Retention:** Manual; overwritten on each run.
- **Example:**
  ```
  ===== VERIFICATION =====
  Checking whisper models...
  ```

## Test Logs

### `logs/test.log`
- **Generated By:** `scripts/run_backend_tests.sh`
- **Purpose:** Backend unit test results and API endpoint checks.
- **Location:** `logs/test.log`
- **Rotation/Retention:** Manual; overwritten on each run.
- **Example:**
  ```
  ===== BACKEND TESTS =====
  10 passed in 2.3s
  ```

### `logs/full_test.log`
- **Generated By:** `scripts/run_tests.sh`
- **Purpose:** Full test suite including frontend and end‑to‑end tests.
- **Location:** `logs/full_test.log`
- **Rotation/Retention:** Manual; overwritten on each run.
- **Example:**
  ```
  ===== E2E TESTS =====
  Cypress run complete
  ```

## Runtime Logs

### `logs/system.log`
- **Generated By:** application startup via `get_system_logger()`.
- **Purpose:** System-wide events such as startup messages and errors.
- **Location:** `logs/system.log`
- **Rotation/Retention:** Rotates at `LOG_MAX_BYTES` with `LOG_BACKUP_COUNT` backups.
- **Example:**
  ```
  [2025-07-28T12:00:00] INFO [system]: Application startup complete.
  ```

### `logs/access.log`
- **Generated By:** middleware `access_logger`.
- **Purpose:** Records each HTTP request with status code and duration.
- **Location:** `logs/access.log`
- **Rotation/Retention:** Not rotated automatically; manage manually.
- **Example:**
  ```
  [2025-07-28T12:00:03] 127.0.0.1 GET /health -> 200 in 0.01s
  ```

### `logs/{job_id}.log`
- **Generated By:** `api.utils.logger.get_logger()` during job processing.
- **Purpose:** Detailed Whisper output and metadata writer messages for each job.
- **Location:** `logs/<job_id>.log`
- **Rotation/Retention:** Rotates at `LOG_MAX_BYTES` with `LOG_BACKUP_COUNT` backups.
- **Example:**
  ```
  [2025-07-28T12:01:00] INFO [123abc]: Launching subprocess: whisper audio.wav
  [2025-07-28T12:01:05] INFO [123abc]: metadata_writer complete.
  ```

### `logs/entrypoint.log`
- **Generated By:** `scripts/docker-entrypoint.sh` inside containers.
- **Purpose:** Container initialization steps and readiness checks.
- **Location:** `/app/logs/entrypoint.log` in the running container.
- **Rotation/Retention:** Manual; overwritten when the container restarts.
- **Example:**
  ```
  ===== ENVIRONMENT =====
  Waiting for RabbitMQ at broker:5672...
  ```

## Diagnostic Scripts

`scripts/diagnose_containers.sh` prints the tail of these logs and container statuses for troubleshooting. See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for usage. Test logs are described in [testing_strategy.md](testing_strategy.md).


