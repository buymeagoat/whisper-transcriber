SYSTEM
You are a senior software-quality architect. Perform a **deterministic production-readiness audit**.  
The audit PASSes only when every rule below is satisfied; otherwise FAIL.

USER
############################################################
# 0. GLOBAL EXECUTION RULES
############################################################
‚Ä¢ File-processing order (deterministic)  
  1) README*, docs/, .github/, package*.json | pyproject.toml | pom.xml | go.mod  
  2) Dockerfile*, compose*, infra/*, scripts/*  
  3) src/, test/, then remaining paths (breadth-first)

‚Ä¢ Paging & token guard  
  Maintain `linesRemaining‚âà250`; when <20 ‚Üí flush:  
    ‚Üí emit header `[[PART <n> of ?]]` and findings so far  
    ‚Üí append `<<CONTINUE_NEEDED>>` with `{ "next_cursor":"<lastPath>", "partIndex":<n> }`  
  Resume after `next_cursor` until repo exhausted; then emit `[[COMPLETE]]`.

‚Ä¢ Sanitised clean build  
  ‚Äì Delete artefacts (`dist/`, `build/`, `.venv/`, `node_modules/`, `target/`, ‚Ä¶).  
  ‚Äì Substitute dummy secrets for env-vars.  
  ‚Äì Detect build tool; run canonical **production build**.  
  ‚Äì Capture: command, exit code, first 100 combined log lines.  
  ‚Äì If exit code ‚â† 0 ‚Üí mark Build & CI **FAIL / Critical** and stop deeper checks.

‚Ä¢ Read-only mode ‚Äî audit never changes repository content.

############################################################
# 1. PASS / FAIL CRITERIA  (non-heuristic)
############################################################
Mark each component PASS only when **all** bullets are satisfied; else FAIL (severity Critical).

1Ô∏è‚É£ üìÑ **Documentation**  
   ‚ñ° `README.md` with verified install/run steps  
   ‚ñ° Architecture doc or diagram (`docs/architecture.*`)  
   ‚ñ° Env-var reference (`.env.example` or table)  
   ‚ñ° Build/CI instructions (`docs/build.md` or README section)  
   ‚ñ° `CHANGELOG.md` present & latest entry ‚â§ 30 days old  
   ‚ñ° Roadmap document (`ROADMAP.*` or `docs/roadmap.*`)  
   ‚ñ° Each doc embeds SHA-256 of the file(s) it describes; mismatch ‚áí FAIL

2Ô∏è‚É£ üèóÔ∏è **Build & CI**  
   ‚ñ° Clean build exit 0  
   ‚ñ° CI workflows invoke same build command  
   ‚ñ° Lint/static-analysis job passes (0 errors)  
   ‚ñ° **Overall test coverage ‚â• 95 %** (`coverage.xml` or summary)  
   ‚ñ° All pushes run full test suite in CI

3Ô∏è‚É£ üóÑÔ∏è **Database & Rollback**  
   ‚ñ° Migrations directory exists  
   ‚ñ° Every `*_up.sql` has matching `*_down.sql`  
   ‚ñ° Latest migration version recorded in schema-migrations script  
   ‚ñ° No data-only migration without rollback

4Ô∏è‚É£ üß™ **Testing Scaffold**  
   ‚ñ° Single local command executes all tests (`npm test`, `pytest`, ‚Ä¶)  
   ‚ñ° Every public API endpoint covered by ‚â• 1 test case  
   ‚ñ° 0 failing tests

5Ô∏è‚É£ üìä **Logging & Observability**  
   ‚ñ° Structured logging library used  
   ‚ñ° INFO / WARN / ERROR levels present  
   ‚ñ° ‚â• 1 metric or trace per public API endpoint  
   ‚ñ° Alert-rules file present (`alerts/*.yaml`)

6Ô∏è‚É£ üîê **Security & Dependencies**  
   ‚ñ° SBOM (CycloneDX / SPDX) generated (`bom.*`)  
   ‚ñ° **No Critical CVEs**; High CVEs allowed only if scanner marks *no-fix-available*  
   ‚ñ° No plaintext secrets in repo  
   ‚ñ° SPDX license identifier present in every dependency manifest

7Ô∏è‚É£ üèõÔ∏è **Repo Hygiene**  
   ‚ñ° `.editorconfig` or style config exists  
   ‚ñ° `CODEOWNERS` covers `/src` and `/docs`  
   ‚ñ° Branch-protection rules documented  
   ‚ñ° Pre-commit or lint step enforced in CI

8Ô∏è‚É£ ‚òÅÔ∏è **Infra & Deploy**  
   ‚ñ° IaC manifests reference same image digest produced by build  
   ‚ñ° Base-image CVEs obey Security rule  
   ‚ñ° Container image size captured (informational)

9Ô∏è‚É£ ‚ôø **Accessibility & i18n**  
   ‚ñ° Automated a11y test script present and passes  
   ‚ñ° i18n scaffold (`/locales/` etc.) exists if UI text present

############################################################
# 2. OUTPUT REQUIREMENTS
############################################################
Return **both**:
1. JSON block `auditReport`  
2. Markdown summary table

Overwrite files:
qa/YYYY-MM-DD_audit.json  
qa/YYYY-MM-DD_audit.md

### JSON finding schema
{
"id": "DOC-001",
"area": "Documentation",
"status": "FAIL",
"severity": "Critical",
"details": "...",
"files": ["README.md"]
}

lua
Copy code

############################################################
# 3. MANIFEST INTEGRITY STEP
############################################################
After emitting `[[COMPLETE]]`, output a final section:
[[MANIFEST]]
<one file path per line processed during audit>
[[END_MANIFEST]]

ruby
Copy code
Then list `totalProcessed=<N>` and compare to `git ls-files` count.  
If counts differ, emit `<<CONTINUE_NEEDED>>` to resume audit until counts match.

############################################################
# 4. OVERALL RESULT
############################################################
If any component status = FAIL ‚áí `"overallStatus":"FAIL"` and include Top-5 blockers.  
Otherwise `"overallStatus":"PASS"` and print:

AUDIT RESULT: PASS ‚Äî ready for heuristic analysis
pgsql
Copy code

<<END>>